<div class="container mt-5">
  <div class="col-md-6 col-12 mx-auto">
    <h1 class="mb-4">錢錢去哪了？</h1>
    <form action="/records/{{record._id}}?_method=PUT" method="POST">
      <div class="mb-3">
        <label for="name" class="form-label">帳目 <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="name" value="{{record.name}}" name="name" required />
      </div>
      <div class="mb-3">
        <label for="date" class="form-label">日期 <span class="text-danger">*</span></label>
        <input type="date" class="form-control" id="date" value="{{record.date}}" name="date" required />
      </div>
      <div class="mb-3">
        <label for="category" class="form-label">分類 <span class="text-danger">*</span></label>
        <select class="form-select" name="category" id="category" required>
          <option value='餐飲食品' {{#is record.categoryName '餐飲食品'}}selected{{/is}}>餐飲食品</option>
          <option value='家居物業' {{#is record.categoryName '家居物業'}}selected{{/is}}>家居物業</option>
          <option value='交通出行' {{#is record.categoryName '交通出行'}}selected{{/is}}>交通出行</option>
          <option value='休閒娛樂' {{#is record.categoryName '休閒娛樂'}}selected{{/is}}>休閒娛樂</option>
          <option value='其他' {{#is record.categoryName '其他'}}selected{{/is}}>其他</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="amount" class="form-label">金額 <span class="text-danger">*</span></label>
        <input type="number" class="form-control" id="amount" min="0" step="1" value="{{record.amount}}" name="amount" required>
      </div>
      <div class="text-left">
        <button type="submit" class="btn btn-light">
          儲存修改
        </button>
        <a href="/">
          <button type="button" class="btn btn-light">
            返回首頁
          </button>
        </a>
        <button type="reset" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#Modal{{record._id}}">
          刪除
        </button>
      </div>
    </form>
  </div>
  {{!-- delete double-check modal --}}
  <div class="modal fade" id="Modal{{record._id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Are you Sure you want to delete {{record.name}} ?</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <i class="{{record.fontAwesomeClass}} h7" title="{{record.categoryName}}"></i>
          <div>name: {{record.name}}</div>
          <div>date: {{record.date}}</div>
          <div>amount: {{record.amount}}</div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <form action="/records/{{record._id}}?_method=DELETE" method="POST">
            <button type="submit" class="btn btn-danger">Delete anyway</button>
        </div>
      </div>
    </div>
  </div>
</div>